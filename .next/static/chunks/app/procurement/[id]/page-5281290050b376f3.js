(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9052],{933:function(e,s,t){Promise.resolve().then(t.bind(t,5981))},5981:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var r=t(1514),a=t(2610),i=t(10),l=t(542),n=t(9170),d=t(7993),c=t(8861),x=t(3939);function o(){var e,s;let t=(0,x.useParams)(),o=null==t?void 0:t.id,[m,h]=(0,d.useState)(null),[u,j]=(0,d.useState)(!0);async function N(){j(!0);try{let e=await (0,c.hi)("/procurement/".concat(o));h(e)}catch(e){h(null)}finally{j(!1)}}(0,d.useEffect)(()=>{o&&N()},[o]);let p=e=>Number.isFinite(e)?e.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",[v,b]=(0,d.useState)(""),[g,f]=(0,d.useState)(""),[y,A]=(0,d.useState)(!1);async function T(){if(!v){alert("Please select an action");return}A(!0);try{await (0,c.hi)("/procurement/".concat(o),{method:"PUT",body:JSON.stringify({status:"Approve"===v?"Approved":"Rejected"})}),alert("Action submitted successfully"),window.location.reload()}catch(e){alert((null==e?void 0:e.message)||"Failed to submit action")}finally{A(!1)}}return u?(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Loading..."})})]}):m?(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,r.jsx)(a.default,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:[(0,r.jsx)(i.Z,{title:"Procurement Details",subtitle:"View procurement request details."}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)(n.default,{href:"/procurement",className:"text-blue-600 hover:text-blue-700 text-sm font-medium inline-flex items-center gap-2",children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]})})]}),(0,r.jsx)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:(0,r.jsxs)(l.Z,{className:"p-6 lg:p-7",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Procurement Request Detail"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Items: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:m.itemName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Quantity: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:m.quantity})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Unit Price: "}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:["₦",p(m.unitPrice)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Price: "}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:["₦",p(m.totalPrice)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Date: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:(e=>{if(!e)return"—";try{return new Date(e).toLocaleDateString("en-GB")}catch(e){return"—"}})(m.date)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Requested By: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:m.requestedBy||"—"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Sent To: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:m.sentTo||"—"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Request Status: "}),(0,r.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-medium ".concat("Approved"===(s=m.status)?"text-green-600 bg-green-50":"Pending"===s?"text-orange-600 bg-orange-50":"Rejected"===s?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"),children:m.status})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Attachment: "}),(0,r.jsx)("span",{className:"text-sm text-gray-900",children:m.hasAttachment||"No"})]})]}),"Yes"===m.hasAttachment&&m.vatPercent&&(0,r.jsx)("div",{className:"mt-8 pt-6 border-t",children:(0,r.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-blue-600",children:"Relia Energy"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"20th October, 2022"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:"RC NO:"}),(0,r.jsx)("div",{className:"font-semibold",children:"TIN:"}),(0,r.jsx)("div",{className:"font-semibold",children:"CONTRACT:"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:"1667968"}),(0,r.jsx)("div",{children:"22369458-0001"}),(0,r.jsx)("div",{children:"Contract for The Provision of Fuel Management and Distribution Services to NNPC RETAIL Filling stations."})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"Bill to:"}),(0,r.jsxs)("div",{className:"text-sm bg-gray-50 p-3 rounded",children:[(0,r.jsx)("div",{children:"THE MANAGING DIRECTOR"}),(0,r.jsx)("div",{children:"NNPC RETAIL LIMITED"}),(0,r.jsx)("div",{children:"COKER ROAD"}),(0,r.jsx)("div",{children:"P.M.B 7342, BENIN CITY"}),(0,r.jsx)("div",{children:"EDO STATE"}),(0,r.jsx)("div",{children:"NIGERIA"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"font-semibold mb-2",children:["INVOICE NUMBER: ",null===(e=m.id)||void 0===e?void 0:e.substring(0,8)]}),(0,r.jsxs)("table",{className:"w-full text-sm border",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border px-3 py-2 text-left",children:"S/N"}),(0,r.jsx)("th",{className:"border px-3 py-2 text-left",children:"ITEM"}),(0,r.jsx)("th",{className:"border px-3 py-2 text-left",children:"DESCRIPTION"}),(0,r.jsx)("th",{className:"border px-3 py-2 text-right",children:"QUANTITY"}),(0,r.jsx)("th",{className:"border px-3 py-2 text-right",children:"RATE"}),(0,r.jsx)("th",{className:"border px-3 py-2 text-right",children:"AMOUNT (NGN)"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border px-3 py-2",children:"1"}),(0,r.jsx)("td",{className:"border px-3 py-2",children:m.itemName}),(0,r.jsx)("td",{className:"border px-3 py-2",children:"—"}),(0,r.jsx)("td",{className:"border px-3 py-2 text-right",children:m.quantity}),(0,r.jsx)("td",{className:"border px-3 py-2 text-right",children:p(m.unitPrice)}),(0,r.jsx)("td",{className:"border px-3 py-2 text-right",children:p(m.totalPrice)})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:5,className:"border px-3 py-2 text-right font-semibold",children:"TOTAL"}),(0,r.jsxs)("td",{className:"border px-3 py-2 text-right font-semibold",children:["₦",p(m.totalPrice)]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{colSpan:5,className:"border px-3 py-2 text-right",children:["@ ",m.vatPercent,"% VAT"]}),(0,r.jsxs)("td",{className:"border px-3 py-2 text-right",children:["₦",p(m.vatAmount)]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{colSpan:5,className:"border px-3 py-2 text-right font-semibold",children:"GRAND TOTAL"}),(0,r.jsxs)("td",{className:"border px-3 py-2 text-right font-semibold",children:["₦",p(m.grossAmount)]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 text-sm",children:[(0,r.jsx)("div",{className:"font-semibold",children:"Amount In Words:"}),(0,r.jsx)("div",{className:"italic",children:"One Million Two hundred and ninety-four thousand two hundred and sixty-nine naira (₦ ninety kobo)"})]}),m.accountName&&(0,r.jsxs)("div",{className:"mt-4 text-sm bg-gray-50 p-3 rounded",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"Account Details:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Account Name:"})," ",m.accountName]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Account Number:"})," ",m.accountNumber]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Bank:"})," ",m.bankName]})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t",children:[(0,r.jsx)("div",{className:"text-xs text-center text-gray-500",children:"FOR: RELIA ENERGY LIMITED"}),(0,r.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-8",children:[(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"border-t border-gray-400 pt-2",children:[(0,r.jsx)("div",{className:"font-semibold",children:"SIGNATURE"}),(0,r.jsx)("div",{className:"text-xs",children:"STAFF NAME"}),(0,r.jsx)("div",{className:"text-xs",children:"STAFF DESIGNATION"})]})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:"border-t border-gray-400 pt-2",children:[(0,r.jsx)("div",{className:"font-semibold",children:"SIGNATURE"}),(0,r.jsx)("div",{className:"text-xs",children:"STAFF NAME"}),(0,r.jsx)("div",{className:"text-xs",children:"STAFF DESIGNATION"})]})})]})]})]})}),(0,r.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Action"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full h-12 appearance-none rounded-xl border border-gray-200 bg-white px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,r.jsx)("option",{value:"",children:"Select action"}),(0,r.jsx)("option",{value:"Approve",children:"Approve"}),(0,r.jsx)("option",{value:"Reject",children:"Reject"})]}),(0,r.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Remarks"}),(0,r.jsx)("input",{type:"text",placeholder:"Enter remarks",value:g,onChange:e=>f(e.target.value),className:"w-full h-12 rounded-xl border border-gray-200 px-4 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{onClick:T,disabled:y,className:"inline-flex items-center justify-center h-11 px-8 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm disabled:opacity-50",children:y?"Submitting...":"Submit"})})]})]})})]})]}):(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Procurement request not found"})})]})}},10:function(e,s,t){"use strict";t.d(s,{Z:function(){return r.default}});var r=t(6615)}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=933)}),_N_E=e.O()}]);