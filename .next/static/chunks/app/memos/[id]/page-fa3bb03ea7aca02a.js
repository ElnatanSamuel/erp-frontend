(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{3466:function(e,s,a){Promise.resolve().then(a.bind(a,6279))},6279:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return m}});var t=a(1514),l=a(2610),r=a(10),n=a(542),c=a(9170),i=a(7993),d=a(3939),x=a(8861);function m(){let e=(0,d.useParams)(),s=String((null==e?void 0:e.id)||""),[a,m]=(0,i.useState)(null),[o,h]=(0,i.useState)(!0),[u,p]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=!0;return(async()=>{try{let a=await (0,x.hi)("/memos/".concat(s));if(!e)return;m(a)}catch(s){if(!e)return;p((null==s?void 0:s.message)||"Failed to load memo")}finally{e&&h(!1)}})(),()=>{e=!1}},[s]);let g=(0,i.useMemo)(()=>Array.isArray(null==a?void 0:a.cc)?a.cc:[],[a]),j=(0,i.useMemo)(()=>{let e=(null==a?void 0:a.attachmentUrl)||"";return e?e.startsWith("http")?e:"".concat(x.Y_).concat(e):""},[a]),f=j.toLowerCase().endsWith(".pdf");return(0,t.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,t.jsx)(l.default,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:[(0,t.jsx)(r.Z,{title:"Create Memo",subtitle:"Create and send memos to designated officers."}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.default,{href:"/memos",className:"text-blue-600 hover:text-blue-700 text-sm font-medium inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]})})]}),(0,t.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,t.jsxs)(n.Z,{className:"p-6 lg:p-7",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null==a?void 0:a.title)||(o?"Loading…":"—")}),u&&(0,t.jsx)("div",{className:"mt-2 text-sm text-rose-600",children:u}),(0,t.jsxs)("div",{className:"mt-5 space-y-2 text-[15px]",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"Date:"}),(0,t.jsx)("span",{className:"text-gray-900",children:(e=>{if(!e)return"—";let s=new Date(e);if(isNaN(s.getTime()))return"—";let a=String(s.getDate()).padStart(2,"0"),t=String(s.getMonth()+1).padStart(2,"0"),l=s.getFullYear();return"".concat(a,"/").concat(t,"/").concat(l)})(null==a?void 0:a.date)})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"From:"}),(0,t.jsx)("span",{className:"text-gray-900",children:(null==a?void 0:a.sentFrom)||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"To:"}),(0,t.jsx)("span",{className:"text-gray-900",children:(null==a?void 0:a.sentTo)||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"CC1:"}),(0,t.jsx)("span",{className:"text-gray-900",children:g[0]||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"CC2:"}),(0,t.jsx)("span",{className:"text-gray-900",children:g[1]||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"CC3:"}),(0,t.jsx)("span",{className:"text-gray-900",children:g[2]||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-gray-500 w-28",children:"Attachment:"}),(0,t.jsx)("span",{className:"text-gray-900",children:(null==a?void 0:a.hasAttachment)?"Yes":"No"})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("div",{className:"text-gray-900 font-medium mb-2",children:"Memo Message:"}),(0,t.jsx)("p",{className:"text-gray-700 leading-7 whitespace-pre-wrap",children:(null==a?void 0:a.body)||"—"})]}),(0,t.jsxs)("div",{className:"mt-8 border-t pt-6",children:[(0,t.jsx)("div",{className:"h-[560px] w-full bg-white border rounded-lg overflow-hidden",children:(null==a?void 0:a.attachmentUrl)?f?(0,t.jsx)("iframe",{src:j,className:"w-full h-full"}):(0,t.jsx)("img",{src:j,alt:(null==a?void 0:a.attachmentName)||"Attachment",className:"max-h-full w-auto mx-auto"}):(0,t.jsx)("div",{className:"h-full w-full grid place-items-center text-gray-400",children:"Attachment preview"})}),(null==a?void 0:a.attachmentName)&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Attachment: ",(0,t.jsx)("a",{href:j,target:"_blank",className:"text-blue-600 hover:underline",children:a.attachmentName})]})]})]}),(0,t.jsx)(n.Z,{className:"p-6 lg:p-7",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Action"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{className:"w-full h-11 rounded-xl border border-gray-200 bg-white px-4 pr-10 text-sm text-gray-700",children:[(0,t.jsx)("option",{children:"Select action"}),(0,t.jsx)("option",{children:"Recommend for approval"}),(0,t.jsx)("option",{children:"Approve"}),(0,t.jsx)("option",{children:"Reject"})]}),(0,t.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Remarks"}),(0,t.jsx)("input",{className:"w-full h-11 rounded-xl border border-gray-200 px-4 text-sm text-gray-700",placeholder:"Enter remark"})]}),(0,t.jsx)("div",{className:"md:col-span-3 flex items-center gap-6",children:(0,t.jsx)("button",{className:"ml-auto inline-flex items-center justify-center h-11 px-8 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Submit"})})]})})]})]})]})}},10:function(e,s,a){"use strict";a.d(s,{Z:function(){return t.default}});var t=a(6615)}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=3466)}),_N_E=e.O()}]);