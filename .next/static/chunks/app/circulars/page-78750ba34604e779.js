(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1338],{4259:function(e,t,s){Promise.resolve().then(s.bind(s,2566))},2566:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var l=s(1514),r=s(2610),a=s(10),n=s(542),i=s(9170),c=s(7993),d=s(5120),o=s(8861);function x(){let[e,t]=(0,c.useState)(""),[s,x]=(0,c.useState)("All"),[h,u]=(0,c.useState)(1),[m,p]=(0,c.useState)(13),[g,f]=(0,c.useState)([]),[j,b]=(0,c.useState)(0),[N,y]=(0,c.useState)(!0),[v,w]=(0,c.useState)(null);(0,c.useEffect)(()=>{let t=!0;return y(!0),w(null),(async()=>{try{let l=new URLSearchParams;e.trim()&&l.set("q",e.trim()),"All"!==s&&l.set("type",s),l.set("page",String(h)),l.set("limit",String(m));let r=await (0,o.hi)("/circulars?".concat(l.toString()));if(!t)return;f(r.items||[]),b(r.total||0)}catch(e){if(!t)return;w((null==e?void 0:e.message)||"Failed to load circulars")}finally{t&&y(!1)}})(),()=>{t=!1}},[e,s,h,m]);let S=Math.max(1,Math.ceil(j/m)),C=e=>{if(!e)return"—";let t=new Date(e);if(isNaN(t.getTime()))return"—";let s=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(s,"/").concat(l,"/").concat(r)};function F(e){let{v:t}=e,s=(t||"").toLowerCase();return(0,l.jsx)("span",{className:"inline-flex items-center gap-1 text-sm",children:"sent"===s||""===s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"Sent"}),(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-gray-500",fill:"currentColor",children:(0,l.jsx)("path",{d:"M14 3l7 7-1.41 1.41L15 7.83V21h-2V7.83l-4.59 4.58L7 10l7-7z"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"Received"}),(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 text-gray-500",fill:"currentColor",children:(0,l.jsx)("path",{d:"M10 21l-7-7 1.41-1.41L9 16.17V3h2v13.17l4.59-4.58L17 14l-7 7z"})})]})})}let[M,k]=(0,c.useState)(0);(0,c.useEffect)(()=>{k(Math.floor((h-1)/5))},[h]);let A=5*M+1,E=Math.min(S,A+5-1);return(0,l.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,l.jsx)(r.default,{}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:(0,l.jsx)(a.Z,{title:"Circulars",subtitle:"Search for and view all circulars"})}),(0,l.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,l.jsx)(n.Z,{className:"p-6 lg:p-7",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 items-end",children:[(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(1)},className:"lg:col-span-5",children:[(0,l.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Quick search a circular"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(d.I,{placeholder:"Enter search word",value:e,onChange:e=>t(e.target.value),className:"pr-12 rounded-xl"}),(0,l.jsx)("button",{"aria-label":"Search",className:"absolute right-1.5 top-1/2 -translate-y-1/2 h-9 w-9 rounded-lg grid place-items-center bg-blue-600 hover:bg-blue-700 text-white shadow",type:"submit",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor",children:(0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16a6.471 6.471 0 004.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM10 14a4 4 0 110-8 4 4 0 010 8z"})})})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-2 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:N?"—":j}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Total circulars"})]}),(0,l.jsxs)("div",{className:"lg:col-span-3",children:[(0,l.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Filter circulars"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:s,onChange:e=>{x(e.target.value),u(1)},className:"w-full h-12 appearance-none rounded-xl border-0 bg-gradient-to-br from-[#F2F6FF] to-white px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,l.jsx)("option",{value:"All",children:"All memos"}),(0,l.jsx)("option",{value:"Sent",children:"Sent"}),(0,l.jsx)("option",{value:"Received",children:"Received"})]}),(0,l.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,l.jsx)("div",{className:"lg:col-span-2 text-right",children:(0,l.jsx)(i.default,{href:"/circulars/create",className:"inline-flex items-center justify-center h-11 px-6 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Create Circular"})})]})}),(0,l.jsxs)(n.Z,{className:"p-0",children:[(0,l.jsxs)("div",{className:"p-5 pb-0 flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"All Circulars"}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing",(0,l.jsx)("span",{className:"ml-2 inline-flex items-center h-8 px-3 rounded-lg border border-gray-200 bg-white",children:m}),(0,l.jsx)("span",{className:"ml-1",children:"per page"})]})]}),(0,l.jsxs)("div",{className:"p-5 pt-3 overflow-x-auto",children:[(0,l.jsxs)("table",{className:"min-w-full text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-left text-gray-500 border-y bg-gray-50",children:[(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"S/N"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Circular Title"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Sent From"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Sent To"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Date"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Circular Type"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Action"})]})}),(0,l.jsx)("tbody",{children:N?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-5 py-8 text-sm text-gray-500",colSpan:7,children:"Loading…"})}):0===g.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-5 py-8 text-sm text-gray-500",colSpan:7,children:"No circulars found"})}):g.map((e,t)=>(0,l.jsxs)("tr",{className:"border-b last:border-0",children:[(0,l.jsx)("td",{className:"px-5 py-4",children:String((h-1)*m+t+1).padStart(2,"0")}),(0,l.jsx)("td",{className:"px-5 py-4 text-gray-900",children:e.title}),(0,l.jsx)("td",{className:"px-5 py-4",children:e.sentFrom||"—"}),(0,l.jsx)("td",{className:"px-5 py-4",children:e.sentTo||"—"}),(0,l.jsx)("td",{className:"px-5 py-4",children:C(e.date)}),(0,l.jsx)("td",{className:"px-5 py-4",children:(0,l.jsx)(F,{v:e.type})}),(0,l.jsx)("td",{className:"px-5 py-4 text-blue-600",children:(0,l.jsx)(i.default,{href:"/circulars/".concat(e.id),className:"hover:underline",children:"View more"})})]},e.id))})]}),(0,l.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[Array.from({length:Math.max(0,E-A+1)},(e,t)=>A+t).map(e=>(0,l.jsx)("button",{onClick:()=>u(e),className:(e===h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700")+" h-9 px-3 rounded-lg",children:e},e)),E<S&&(0,l.jsx)("button",{onClick:()=>k(e=>Math.min(e+1,Math.floor((S-1)/5))),className:"h-9 px-3 rounded-lg bg-gray-100 text-gray-700",children:">>"})]})]})]}),(0,l.jsx)("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"}),v&&(0,l.jsx)("div",{className:"text-sm text-rose-600",children:v})]})]})]})}},10:function(e,t,s){"use strict";s.d(t,{Z:function(){return l.default}});var l=s(6615)},5120:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var l=s(1514),r=s(7993),a=s(3053);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,l.jsx)("input",{ref:t,className:(0,a.W)("flex h-12 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm","placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",s),...r})});n.displayName="Input"}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=4259)}),_N_E=e.O()}]);