(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9936],{3410:function(e,s,t){Promise.resolve().then(t.bind(t,4263))},4263:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var l=t(1514),a=t(2610),r=t(10),n=t(9170),i=t(7993),c=t(3939),d=t(542),o=t(5120),x=t(2917),u=t(8861);function h(){let e=(0,c.useRouter)(),[s,t]=(0,i.useState)(""),[a,r]=(0,i.useState)(""),[n,h]=(0,i.useState)(""),[m,g]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[b,N]=(0,i.useState)(null),[y,w]=(0,i.useState)(null),[C,S]=(0,i.useState)(!1),[F,k]=(0,i.useState)(""),[B,_]=(0,i.useState)(""),[E,z]=(0,i.useState)(null),[I,M]=(0,i.useState)(!1),[R,O]=(0,i.useState)("");async function D(){z(null),S(!0);try{let e=new FormData;e.set("firstName",s),e.set("lastName",a),n&&e.set("gender",n),m&&e.set("phone",m),f&&e.set("role",f),v&&e.set("designation",v),b&&e.set("photo",b);let t=await (0,u.BG)("/users",e);k(t.email),_(t.staffId),O("".concat(s," ").concat(a).trim()),M(!0)}catch(e){z((null==e?void 0:e.message)||"Failed to create staff")}finally{S(!1)}}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.Z,{className:"p-6 lg:p-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Add a New Staff"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,l.jsx)("div",{className:"lg:col-span-4",children:(0,l.jsx)("div",{className:"rounded-2xl border border-gray-200 bg-white p-6",children:(0,l.jsxs)("div",{className:"mx-auto w-full max-w-[300px]",children:[(0,l.jsx)("div",{className:"h-[380px] rounded-xl border border-gray-200 grid place-items-center overflow-hidden",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"relative mx-auto h-40 w-40 rounded-full overflow-hidden border border-gray-300",children:y?(0,l.jsx)("img",{src:y,alt:"preview",className:"absolute inset-0 h-full w-full object-cover"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"absolute inset-0 rounded-full border-[3px] border-dashed border-[#D9DEE7]"}),(0,l.jsx)("div",{className:"absolute inset-3 rounded-full bg-[#F6F8FB] grid place-items-center",children:(0,l.jsx)("div",{className:"h-9 w-9 rounded-full bg-gray-100 grid place-items-center",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-gray-500",fill:"currentColor",children:(0,l.jsx)("path",{d:"M12 5l2 2h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2V9a2 2 0 012-2h3l2-2zm0 3a4 4 0 100 8 4 4 0 000-8z"})})})})]})}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-3",children:[(0,l.jsx)("label",{htmlFor:"photo-input",className:"inline-flex items-center h-9 px-3 rounded-lg border border-gray-200 bg-white text-sm text-gray-700 cursor-pointer hover:bg-gray-50",children:"Choose photo"}),(0,l.jsx)("input",{id:"photo-input",type:"file",accept:"image/*",onChange:function(e){var s;let t=(null===(s=e.target.files)||void 0===s?void 0:s[0])||null;N(t),t?w(URL.createObjectURL(t)):w(null)},className:"hidden"}),(0,l.jsx)("span",{className:"max-w-[180px] text-sm text-gray-600 truncate align-middle",children:(null==b?void 0:b.name)?b.name.length>28?"".concat(b.name.slice(0,14),"â€¦").concat(b.name.slice(-10)):b.name:"No file chosen"})]}),(0,l.jsxs)("div",{className:"mt-8 text-xs text-gray-500",children:[(0,l.jsx)("div",{children:"Allowed format"}),(0,l.jsx)("div",{className:"font-medium text-gray-700",children:"JPG, JPEG, and PNG"}),(0,l.jsx)("div",{className:"mt-3",children:"Max file size"}),(0,l.jsx)("div",{className:"font-medium text-gray-700",children:"2MB"})]})]})}),(0,l.jsx)("button",{disabled:C,onClick:D,className:"mt-6 w-full h-12 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm disabled:opacity-50",children:C?"Creating...":"Add Staff"}),E&&(0,l.jsx)("div",{className:"mt-3 text-sm text-rose-600 text-center",children:E})]})})}),(0,l.jsx)("div",{className:"lg:col-span-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"First name"}),(0,l.jsx)(o.I,{placeholder:"Enter first name",value:s,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Last name"}),(0,l.jsx)(o.I,{placeholder:"Enter last name",value:a,onChange:e=>r(e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Phone number"}),(0,l.jsx)(o.I,{placeholder:"Enter phone number",value:m,onChange:e=>g(e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Gender"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:n,onChange:e=>h(e.target.value),className:"w-full h-12 appearance-none rounded-xl border border-gray-200 bg-white px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,l.jsx)("option",{value:"",children:"Select gender"}),(0,l.jsx)("option",{children:"Female"}),(0,l.jsx)("option",{children:"Male"}),(0,l.jsx)("option",{children:"Other"})]}),(0,l.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Role"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full h-12 appearance-none rounded-xl border border-gray-200 bg-white px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,l.jsx)("option",{value:"",children:"Select role"}),(0,l.jsx)("option",{children:"Admin"}),(0,l.jsx)("option",{children:"HR"}),(0,l.jsx)("option",{children:"IT"})]}),(0,l.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Designation"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"w-full h-12 appearance-none rounded-xl border border-gray-200 bg-white px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,l.jsx)("option",{value:"",children:"Select designation"}),(0,l.jsx)("option",{children:"Operations"}),(0,l.jsx)("option",{children:"Human Resources"}),(0,l.jsx)("option",{children:"Security"})]}),(0,l.jsx)("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,l.jsx)("path",{d:"M7 10l5 5 5-5z"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Staff ID (generated)"}),(0,l.jsx)(o.I,{placeholder:"Will be generated",value:B,readOnly:!0,className:"bg-gray-50"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(x._,{className:"block text-sm text-gray-600 mb-2",children:"Official email (generated)"}),(0,l.jsx)(o.I,{placeholder:"Will be generated",value:F,readOnly:!0,className:"bg-gray-50"})]})]})})]})]}),I&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm grid place-items-center",children:(0,l.jsxs)("div",{className:"w-[320px] rounded-2xl bg-white p-6 text-center shadow-xl",children:[(0,l.jsx)("img",{src:"/images/congratulations.png",alt:"congratulations",className:"mx-auto mb-3 h-16 w-16 object-contain"}),(0,l.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:"Congratulations"}),(0,l.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:"You have successfully added a new staff member"}),(0,l.jsx)("button",{onClick:()=>e.push("/staff"),className:"mt-5 inline-flex items-center justify-center h-10 w-full rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Ok"})]})})]})}function m(){return(0,l.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,l.jsxs)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-[#F4F7FC] border-b border-gray-100",children:[(0,l.jsx)(r.Z,{title:"New Staff",subtitle:"Create account for a new staff",icon:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor",children:(0,l.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V20h6v-3.5c0-2.33-4.67-3.5-7-3.5z"})})}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)(n.default,{href:"/staff",className:"text-blue-600 hover:text-blue-700 text-sm font-medium inline-flex items-center gap-2",children:[(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,l.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]})})]}),(0,l.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,l.jsx)(h,{}),(0,l.jsx)("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"})]})]})]})}},10:function(e,s,t){"use strict";t.d(s,{Z:function(){return l.default}});var l=t(6615)},5120:function(e,s,t){"use strict";t.d(s,{I:function(){return n}});var l=t(1514),a=t(7993),r=t(3053);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("input",{ref:s,className:(0,r.W)("flex h-12 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-sm","placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent","disabled:cursor-not-allowed disabled:opacity-50",t),...a})});n.displayName="Input"},2917:function(e,s,t){"use strict";t.d(s,{_:function(){return r}});var l=t(1514);t(7993);var a=t(3053);function r(e){let{className:s,...t}=e;return(0,l.jsx)("label",{className:(0,a.W)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...t})}}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=3410)}),_N_E=e.O()}]);