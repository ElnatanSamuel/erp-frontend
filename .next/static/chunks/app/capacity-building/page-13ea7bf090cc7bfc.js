(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6213],{5184:function(e,t,a){Promise.resolve().then(a.bind(a,3384))},3384:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(1514),l=a(2610),r=a(10),n=a(542),i=a(9170),c=a(7993),d=a(8861);function x(){let[e,t]=(0,c.useState)(null),[a,x]=(0,c.useState)([]),[p,h]=(0,c.useState)(!0),[u,m]=(0,c.useState)(null);return(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,d.hi)("/trainings/kpis");t(e)}catch(e){}})()},[]),(0,c.useEffect)(()=>{let e=!0;return h(!0),m(null),(async()=>{try{let t=await (0,d.hi)("/trainings");if(!e)return;x(t.items||[])}catch(t){if(!e)return;m((null==t?void 0:t.message)||"Failed to load")}finally{e&&h(!1)}})(),()=>{e=!1}},[]),(0,s.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,s.jsx)(l.default,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:(0,s.jsx)(r.Z,{title:"Capacity Building",subtitle:"Create and submit request for staff training"})}),(0,s.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[(0,s.jsx)(o,{color:"blue",value:e?e.totalRequests:"—",label:"Total training request"}),(0,s.jsx)(o,{color:"amber",value:e?e.totalStaffTrained:"—",label:"Total staff trained"}),(0,s.jsx)(o,{color:"purple",value:e?e.totalTrainingDone:"—",label:"Total training done"}),(0,s.jsx)(o,{color:"yellow",value:e?"".concat(e.trainingRatePct,"%"):"—",label:"Staff training rate"})]}),(0,s.jsxs)(n.Z,{className:"p-6 lg:p-7 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Training request"}),(0,s.jsx)(i.default,{href:"/capacity-building/request",className:"inline-flex items-center justify-center h-10 px-5 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Make Training Request"})]}),(0,s.jsxs)(n.Z,{className:"p-0",children:[(0,s.jsx)("div",{className:"px-6 pt-5",children:(0,s.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"All Trainings"})}),(0,s.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{className:"text-left text-gray-500 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3",children:"S/N"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Training Description"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Start Date"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Training Type"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Duration"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Training Mode"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Action"})]})}),(0,s.jsx)("tbody",{children:p?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-6 py-10 text-gray-500",colSpan:8,children:"Loading…"})}):u?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-6 py-10 text-rose-600",colSpan:8,children:u})}):0===a.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{className:"px-6 py-10 text-gray-500",colSpan:8,children:"No trainings"})}):a.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-gray-500",children:String(t+1).padStart(2,"0")}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.description}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700",children:function(e){let t=new Date(e),a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return"".concat(a,"/").concat(s,"/").concat(l)}(e.date)}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700",children:e.trainingType||"—"}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700",children:e.duration||"—"}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-700",children:e.mode||"—"}),(0,s.jsx)("td",{className:"px-6 py-4",children:function(e){let t=e||"To-do";return(0,s.jsx)("span",{className:"Completed"===t?"text-emerald-600":"Inprogress"===t?"text-amber-600":"text-gray-600",children:t})}(e.status)}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)(i.default,{className:"text-blue-600 hover:underline",href:"/capacity-building/".concat(e.id),children:"View more"})})]},e.id))})]})})]}),(0,s.jsx)("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"})]})]})]})}function o(e){let{color:t,value:a,label:l}=e,r={blue:"text-blue-600 bg-blue-50",amber:"text-amber-600 bg-amber-50",purple:"text-purple-600 bg-purple-50",yellow:"text-yellow-600 bg-yellow-50"};return(0,s.jsxs)(n.Z,{className:"p-5 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-xl grid place-items-center ".concat(r[t]),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 ".concat(r[t].split(" ")[0]),fill:"currentColor",children:(0,s.jsx)("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:a}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:l}),(0,s.jsx)("div",{className:"text-xs text-emerald-600 mt-1",children:"2 more than last quarter"})]})]})}},10:function(e,t,a){"use strict";a.d(t,{Z:function(){return s.default}});var s=a(6615)}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=5184)}),_N_E=e.O()}]);