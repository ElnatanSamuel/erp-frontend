(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7162],{5920:function(e,l,s){Promise.resolve().then(s.bind(s,5043))},5043:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return x}});var t=s(1514),a=s(2610),n=s(10),i=s(542),r=s(9170),c=s(7993),d=s(3939),o=s(8861);function x(){let e=(0,d.useParams)(),l=String((null==e?void 0:e.id)||""),[s,x]=(0,c.useState)(null),[h,m]=(0,c.useState)(null),[p,u]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let e=!0;return(async()=>{try{let s=await (0,o.hi)("/payroll/payslips/".concat(l));if(!e)return;x(s)}catch(e){m((null==e?void 0:e.message)||"Failed to load payslip")}finally{e&&u(!1)}})(),()=>{e=!1}},[l]);let y=e=>(Number(e)||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),j=(0,c.useMemo)(()=>s?(s.housingAllowance||0)+(s.transportAllowance||0)+(s.utilityAllowance||0)+(s.productivityAllowance||0)+(s.communicationAllowance||0)+(s.inconvenienceAllowance||0):0,[s]),N=(0,c.useMemo)(()=>s?function(e){let l=Math.floor(Math.abs(e));if(0===l)return"Zero";let s=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],t=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],a=["","Thousand","Million","Billion"],n=[],i=l,r=0;for(;i>0&&r<a.length;){let e=i%1e3;if(e){let l=function(e){let l=[],a=Math.floor(e/100),n=e%100;if(a&&l.push(s[a]+" Hundred"),n){if(n<20)l.push(s[n]);else{let e=n%10;l.push(t[Math.floor(n/10)]+(e?"-"+s[e]:""))}}return l.join(" ")}(e);n.unshift(l+(a[r]?" "+a[r]:""))}i=Math.floor(i/1e3),r++}return n.join(" ").replace(/\s+/g," ").trim()}(Math.round(s.netSalary||0)):"",[s]),f=(0,c.useMemo)(()=>{if((null==s?void 0:s.payMonth)&&(null==s?void 0:s.payYear))return{month:s.payMonth,year:s.payYear};if(!(null==s?void 0:s.createdAt))return{month:"—",year:"—"};let e=new Date(s.createdAt);return isNaN(e.getTime())?{month:"—",year:"—"}:{month:e.toLocaleString("en-US",{month:"long"}),year:String(e.getFullYear())}},[null==s?void 0:s.payMonth,null==s?void 0:s.payYear,null==s?void 0:s.createdAt]);return(0,t.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,t.jsx)(a.default,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:[(0,t.jsx)(n.Z,{title:"Payroll",subtitle:"Generate and send payroll to account."}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(r.default,{href:"/payroll?tab=payslips",className:"text-blue-600 hover:text-blue-700 text-sm font-medium inline-flex items-center gap-2",children:[(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),"Back"]})})]}),(0,t.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,t.jsxs)(i.Z,{className:"p-6 lg:p-7 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-semibold text-gray-900",children:(null==s?void 0:s.staffName)||(p?"Loading…":"—")}),(0,t.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:s?"".concat(s.title||"—"," | ").concat(s.level||"—"):" "}),(null==s?void 0:s.paymentName)&&(0,t.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Payment: ",s.paymentName]}),h&&(0,t.jsx)("div",{className:"mt-2 text-sm text-rose-600",children:h})]}),l&&(0,t.jsx)(r.default,{href:"/payroll/payslips/edit/".concat(l),className:"inline-flex items-center justify-center h-10 px-5 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Edit payslip"})]}),(0,t.jsxs)(i.Z,{className:"p-0",children:[(0,t.jsxs)("div",{className:"p-5 pb-0",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Salary Payslip"}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-1 flex items-center gap-10",children:[(0,t.jsxs)("span",{children:["Month: ",f.month]}),(0,t.jsxs)("span",{children:["Year: ",f.year]})]})]}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[(0,t.jsx)("div",{className:"border rounded-xl overflow-hidden bg-white",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-800 text-white",children:[(0,t.jsx)("th",{className:"px-5 py-3 text-left font-medium",children:"Salary Structure"}),(0,t.jsx)("th",{className:"px-5 py-3 text-left font-medium",children:"Amount"})]})}),(0,t.jsxs)("tbody",{className:"divide-y",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Basic Salary"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.basicSalary)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Housing Allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.housingAllowance)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Transport Allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.transportAllowance)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Utility Allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.utilityAllowance)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Productivity Allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.productivityAllowance)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Communication Allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.communicationAllowance)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Inconvenience allowance"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.inconvenienceAllowance)||0)})]}),(0,t.jsxs)("tr",{className:"font-semibold bg-gray-50",children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Gross Salary"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.grossSalary)||(s?s.basicSalary+j:0))})]})]})]})}),(0,t.jsx)("div",{className:"border rounded-xl overflow-hidden bg-white",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-800 text-white",children:[(0,t.jsx)("th",{className:"px-5 py-3 text-left font-medium",children:"Deductions"}),(0,t.jsx)("th",{className:"px-5 py-3 text-left font-medium",children:"Amount"})]})}),(0,t.jsxs)("tbody",{className:"divide-y",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Tax/PAYE"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.taxPayee)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Employee Pension"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.employeePension)||0)})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Total Deduction"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.totalDeduction)||0)})]}),(0,t.jsxs)("tr",{className:"font-semibold",children:[(0,t.jsx)("td",{className:"px-5 py-3",children:"Net Salary"}),(0,t.jsx)("td",{className:"px-5 py-3",children:y((null==s?void 0:s.netSalary)||0)})]})]})]})})]}),(0,t.jsxs)("div",{className:"mt-5 text-sm text-gray-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Net Salary in Words:"}),(0,t.jsx)("span",{className:"ml-2",children:N?"".concat(N," Only"):"—"})]})]})]})]})]})]})}},10:function(e,l,s){"use strict";s.d(l,{Z:function(){return t.default}});var t=s(6615)}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=5920)}),_N_E=e.O()}]);