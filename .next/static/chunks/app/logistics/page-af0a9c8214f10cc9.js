(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9353],{4765:function(e,t,s){Promise.resolve().then(s.bind(s,9344))},9344:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var l=s(1514),a=s(2610),r=s(10),i=s(542),c=s(9170),n=s(7993),d=s(8861);function x(){let[e,t]=(0,n.useState)(null),[s,x]=(0,n.useState)(""),[m,o]=(0,n.useState)("All"),[h,p]=(0,n.useState)(1),[u]=(0,n.useState)(13),[g,j]=(0,n.useState)([]),[N,f]=(0,n.useState)(0),[y,v]=(0,n.useState)(!0),[b,w]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,d.hi)("/logistics/kpis");t(e)}catch(e){}})()},[]),(0,n.useEffect)(()=>{let e=!0;return v(!0),w(null),(async()=>{try{let t=new URLSearchParams;s.trim()&&t.set("q",s.trim()),"All"!==m&&t.set("status",m),t.set("page",String(h)),t.set("limit",String(u));let l=await (0,d.hi)("/logistics?".concat(t.toString()));if(!e)return;j(l.items||[]),f(l.total||0)}catch(t){if(!e)return;w((null==t?void 0:t.message)||"Failed to load")}finally{e&&v(!1)}})(),()=>{e=!1}},[s,m,h,u]);let S=e=>(Number(e)||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),M=e=>{if(!e)return"—";let t=new Date(e);if(isNaN(t.getTime()))return"—";let s=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(s,"/").concat(l,"/").concat(a)};return(0,l.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[(0,l.jsx)(a.default,{}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,l.jsx)("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:(0,l.jsx)(r.Z,{title:"Logistics",subtitle:"Make and send logistics request."})}),(0,l.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[(0,l.jsxs)(i.Z,{className:"p-5 flex items-center gap-4",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-xl grid place-items-center bg-blue-50",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 text-blue-600",fill:"currentColor",children:(0,l.jsx)("path",{d:"M3 3h18v6H3zM3 11h18v10H3z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e?e.total:"—"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Total request made"}),(0,l.jsx)("div",{className:"text-xs text-emerald-600 mt-1",children:"↑ 50 more than last year"})]})]}),(0,l.jsxs)(i.Z,{className:"p-5 flex items-center gap-4",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-xl grid place-items-center bg-indigo-50",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 text-indigo-600",fill:"currentColor",children:(0,l.jsx)("path",{d:"M12 2L3 7v10l9 5 9-5V7z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e?S(e.totalAmount):"—"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Total cost incurred"})]})]}),(0,l.jsxs)(i.Z,{className:"p-5 flex items-center gap-4",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-xl grid place-items-center bg-purple-50",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 text-purple-600",fill:"currentColor",children:(0,l.jsx)("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e?e.pending:"—"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Pending request"})]})]}),(0,l.jsxs)(i.Z,{className:"p-5 flex items-center gap-4",children:[(0,l.jsx)("div",{className:"h-10 w-10 rounded-xl grid place-items-center bg-green-50",children:(0,l.jsx)("svg",{viewBox:"0 0 24 24",className:"h-6 w-6 text-green-600",fill:"currentColor",children:(0,l.jsx)("path",{d:"M9 16.2l-3.5-3.5-1.4 1.4L9 19 20 8l-1.4-1.4z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:e?e.approved:"—"}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Approved request"}),(0,l.jsx)("div",{className:"text-xs text-rose-600 mt-1",children:"↓ 2% more than last year"})]})]})]}),(0,l.jsxs)(i.Z,{className:"p-6 lg:p-7 flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Logistics request"}),(0,l.jsx)(c.default,{href:"/logistics/create",className:"inline-flex items-center justify-center h-10 px-5 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Make Logistics Request"})]}),(0,l.jsx)(i.Z,{className:"p-0",children:(0,l.jsxs)("div",{className:"p-5 pt-3 overflow-x-auto",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 px-1 mb-2",children:"All Logistics Request"}),(0,l.jsxs)("table",{className:"min-w-full text-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-left text-gray-500 border-y bg-gray-50",children:[(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"S/N"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Title"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Purpose"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Amount"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Requested By"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Sent to"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Date"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Status"}),(0,l.jsx)("th",{className:"px-5 py-3 font-medium",children:"Action"})]})}),(0,l.jsx)("tbody",{children:y?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-5 py-8 text-sm text-gray-500",colSpan:9,children:"Loading…"})}):0===g.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-5 py-8 text-sm text-gray-500",colSpan:9,children:"No requests found"})}):g.map((e,t)=>(0,l.jsxs)("tr",{className:"border-b last:border-0",children:[(0,l.jsx)("td",{className:"px-5 py-4",children:String((h-1)*u+t+1).padStart(2,"0")}),(0,l.jsx)("td",{className:"px-5 py-4 text-gray-900",children:e.title}),(0,l.jsx)("td",{className:"px-5 py-4",children:e.purpose||"—"}),(0,l.jsx)("td",{className:"px-5 py-4",children:S(e.amount)}),(0,l.jsx)("td",{className:"px-5 py-4",children:e.requestedBy||"—"}),(0,l.jsx)("td",{className:"px-5 py-4",children:e.sentTo||"—"}),(0,l.jsx)("td",{className:"px-5 py-4",children:M(e.date)}),(0,l.jsx)("td",{className:"px-5 py-4",children:"Approved"===e.status?(0,l.jsx)("span",{className:"text-emerald-600",children:"Approved"}):"Pending"===e.status?(0,l.jsx)("span",{className:"text-amber-600",children:"Pending"}):(0,l.jsx)("span",{className:"text-rose-600",children:"Rejected"})}),(0,l.jsx)("td",{className:"px-5 py-4 text-blue-600",children:(0,l.jsx)(c.default,{href:"/logistics/".concat(e.id),className:"hover:underline",children:"View more"})})]},e.id))})]}),(0,l.jsx)("div",{className:"mt-4 flex items-center gap-2",children:Array.from({length:Math.max(1,Math.ceil(N/u))},(e,t)=>t+1).slice(Math.max(0,h-3),Math.max(0,h-3)+5).map(e=>(0,l.jsx)("button",{onClick:()=>p(e),className:(e===h?"bg-blue-600 text-white":"bg-gray-100 text-gray-700")+" h-9 px-3 rounded-lg",children:e},e))})]})}),(0,l.jsx)("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"})]})]})]})}},10:function(e,t,s){"use strict";s.d(t,{Z:function(){return l.default}});var l=s(6615)}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=4765)}),_N_E=e.O()}]);