(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{5165:function(e,t,r){Promise.resolve().then(r.t.bind(r,1461,23)),Promise.resolve().then(r.bind(r,4345))},4345:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var o=r(7993),a=r(3670),i=r(8328),s=r(7107);function c(){(0,o.useEffect)(()=>{let e=a.ar.subscribe(e=>{var t;(0,i.av)(null!==(t=e.data)&&void 0!==t?t:null)});return a.ar.refresh().catch(()=>void 0),()=>e()},[]);let{data:e}=s.U.useSession();return(0,o.useEffect)(()=>{if(null==e?void 0:e.user){let{id:t,email:r,name:o}=e.user;(0,i.av)({id:null!=t?t:"session",email:r,name:o})}else(0,i.av)(null)},[e]),null}},3670:function(e,t,r){"use strict";r.d(t,{ar:function(){return l},kS:function(){return f},uv:function(){return b},z2:function(){return d}});var o=r(8775),a=r(6782),i=r(8861),s=r(7107),c=r(8328);function u(){if("undefined"!=typeof document)try{let e=document.cookie.split(";"),t="Thu, 01 Jan 1970 00:00:00 GMT",r=window.location.hostname;for(let o of[...e.map(e=>{let t=e.indexOf("=");return(t>-1?e.substr(0,t):e).trim()}),"better-auth.session_token","better-auth.csrf_token","better-auth.dontRememberToken","better-auth.pkce_code_verifier"])o&&(document.cookie="".concat(o,"=; expires=").concat(t,"; path=/"),document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; SameSite=Lax"),document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; SameSite=Strict"),document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; SameSite=None; Secure"),r&&(document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; domain=").concat(r),document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; domain=").concat(r,"; SameSite=Lax"),r.startsWith(".")||(document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; domain=.").concat(r),document.cookie="".concat(o,"=; expires=").concat(t,"; path=/; domain=.").concat(r,"; SameSite=Lax"))))}catch(e){}}let l=(0,o.vg)(async()=>{let e=localStorage.getItem("token");if(!e)return null;try{return(await (0,i.hi)("/auth/me",{headers:{Authorization:"Bearer ".concat(e)}})).user}catch(e){return null}});function d(e,t,r){let o=(0,a.p4)(s.U.signUp.email({email:e,password:r,name:t}).then(()=>!0));return o.subscribe(e=>{e.data&&l.refresh()}),o}function f(){return(0,a.p4)((async()=>{(0,c.av)(null);try{await s.U.signOut()}catch(e){}try{if(u(),localStorage.clear(),sessionStorage.clear(),window.indexedDB)try{(await window.indexedDB.databases()).forEach(e=>{e.name&&window.indexedDB.deleteDatabase(e.name)})}catch(e){}}catch(e){}try{await (0,i.hi)("/auth/logout",{method:"POST"})}catch(e){}try{await l.refresh()}catch(e){}return u(),!0})())}function b(e){var t,r,o,a;if(!e)return"U";let i=e.trim().split(/\s+/);return((null!==(o=null===(t=i[0])||void 0===t?void 0:t[0])&&void 0!==o?o:"")+(null!==(a=null===(r=i[1])||void 0===r?void 0:r[0])&&void 0!==a?a:"")).toUpperCase()||"U"}},8328:function(e,t,r){"use strict";r.d(t,{av:function(){return a}});let o=function(e,t){let r=t.storage??function(){let e="u">typeof globalThis?globalThis:void 0;if(e&&e.localStorage)return e.localStorage;let t=new Map;return{getItem:e=>t.has(e)?t.get(e):null,setItem:(e,r)=>void t.set(e,r),removeItem:e=>void t.delete(e)}}(),{key:o}=t;try{let t=r.getItem(o);if(null!=t){let r=JSON.parse(t);Object.is(e.value,r)||e.set(r)}}catch{}return e.subscribe(e=>{try{r.setItem(o,JSON.stringify(e))}catch{}}),e}((0,r(8775).SB)({user:null,theme:"light",loading:!1}),{key:"app-store"});function a(e){let t=o.value;o.set({...t,user:e})}},8861:function(e,t,r){"use strict";r.d(t,{BG:function(){return s},Y_:function(){return a},hi:function(){return i}});let o="https://your-backend-url.vercel.app/api",a=o.replace(/\/?api\/?$/,"");async function i(e,t){let r=localStorage.getItem("token"),a={"Content-Type":"application/json",...(null==t?void 0:t.headers)||{},...r?{Authorization:"Bearer ".concat(r)}:{}},i=await fetch("".concat(o).concat(e),{headers:a,credentials:"include",...t});if(!i.ok)throw Error(await i.text()||"Request failed: ".concat(i.status));return i.json()}async function s(e,t){let r=localStorage.getItem("token"),a={...r?{Authorization:"Bearer ".concat(r)}:{}},i=await fetch("".concat(o).concat(e),{method:"POST",headers:a,body:t,credentials:"include"});if(!i.ok)throw Error(await i.text()||"Request failed: ".concat(i.status));return i.json()}},7107:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});let o=(0,r(1906).XL)({baseURL:"http://localhost:4000"}),a={...o,useSession:()=>o.useSession()}},1461:function(){},6782:function(e,t,r){"use strict";r.d(t,{p4:function(){return a}});var o=r(3142);function a(e){let t;return(0,o.r)(async()=>(void 0!==t||(t=await e),t))}},7073:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});let o=new Set;function a(e){try{for(let t of o)t(e);let t=globalThis.__BETTER_STATE_DEVTOOLS__;t&&"function"==typeof t.emit&&t.emit(e)}catch{}}},8775:function(e,t,r){"use strict";r.d(t,{vg:function(){return u.r},SB:function(){return c}});var o=r(5387),a=r(115),i=r(7073);let s=[];function c(e,t=Object.is){let r={_value:e,initial:e,subscribers:new Set,dependents:new Set,eq:t},c={get value(){let e=s[s.length-1];return e&&(e.dependencies.add(r),r.dependents.add(e)),r._value},set value(n){if(r.eq(r._value,n))return;r._value=n;let e=Array.from(r.dependents),t=new Set;for(;e.length;){let r=e.pop();if(!t.has(r)){for(let o of(t.add(r),r.dirty=!0,r.dependents))e.push(o);r.subscribers.size>0&&(0,o.s)(r,()=>{let e=r.__recompute;e&&e()},"recompute")}}if(r.subscribers.size>0){let e=r._value;(0,o.s)(r,()=>{for(let t of Array.from(r.subscribers))t(e)},"notify")}(0,o.s)(r,()=>{(0,i.I)({type:"update",atomKind:"state",subscribers:r.subscribers.size,payload:r._value})},"devtools")},set(e){this.value=e},subscribe:e=>(r.subscribers.add(e),()=>{r.subscribers.delete(e)})};return(0,a.a)(c,"state",r),c}var u=r(3142)},115:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});let o=Symbol.for("better-state.internal");function a(e,t,r){try{Object.defineProperty(e,o,{value:{type:t,node:r},enumerable:!1,configurable:!1,writable:!1}),i.set(r,e)}catch{}}let i=new WeakMap},3142:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var o=r(5387),a=r(115),i=r(7073);function s(e){let t={fetcher:e,data:null,loading:!0,error:null,subscribers:new Set,currentPromiseId:0},r={data:t.data,loading:t.loading,error:t.error};function s(){r={data:t.data,loading:t.loading,error:t.error}}async function c(){t.currentPromiseId++;let e=t.currentPromiseId;t.loading=!0,t.error=null,s(),function(){if(t.subscribers.size>0){let e=r;(0,o.s)(t,()=>{for(let r of Array.from(t.subscribers))r(e)})}}();try{let a=await t.fetcher();if(e!==t.currentPromiseId)return;if(t.data=a,t.error=null,t.loading=!1,s(),t.subscribers.size>0){let e=Array.from(t.subscribers),o=r;for(let t of e)t(o)}(0,o.s)(t,()=>{(0,i.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")}catch(a){if(e!==t.currentPromiseId)return;if(t.error=a instanceof Error?a:Error(String(a)),t.loading=!1,s(),t.subscribers.size>0){let e=Array.from(t.subscribers),o=r;for(let t of e)t(o)}(0,o.s)(t,()=>{(0,i.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")}}c();let u={get data(){return t.data},get loading(){return t.loading},get error(){return t.error},refresh:c,subscribe:e=>(t.subscribers.add(e),e(r),()=>{t.subscribers.delete(e)})};return u.getSnapshot=()=>r,u.__hydrate=e=>{if(t.data=e.data??null,t.error=e.error??null,t.loading=!!e.loading,s(),t.subscribers.size>0){let e=Array.from(t.subscribers),o=r;for(let t of e)t(o)}(0,o.s)(t,()=>{(0,i.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")},(0,a.a)(u,"resource",t),u}},5387:function(e,t,r){"use strict";r.d(t,{s:function(){return s}});let o=new Map,a=!1;function i(){let e=Array.from(o.entries());for(let[,t]of(o.clear(),a=!1,e))for(let e of t.values())e()}function s(e,t,r="default"){if("function"!=typeof t)return;let s=o.get(e);s||(s=new Map,o.set(e,s)),s.set(r,t),a||(a=!0,queueMicrotask(i))}}},function(e){e.O(0,[2029,1906,3869,8753,1744],function(){return e(e.s=5165)}),_N_E=e.O()}]);