(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{20:function(e,s,t){Promise.resolve().then(t.bind(t,6277)),Promise.resolve().then(t.bind(t,6615)),Promise.resolve().then(t.bind(t,2610))},6277:function(e,s,t){"use strict";t.d(s,{default:function(){return N}});var l=t(1514),a=t(7993),r=t(8775),n=t(8861);let c=(0,r.vg)(async()=>(0,n.hi)("/dashboard/summary"));var i=t(542);function d(e){let{value:s,label:t,icon:a,trend:r}=e;return(0,l.jsxs)(i.Z,{className:"p-5 flex items-start gap-4",children:[(0,l.jsx)("div",{className:"h-11 w-11 rounded-xl bg-blue-50 text-blue-600 grid place-items-center",children:a}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"text-3xl font-semibold text-gray-900 leading-none",children:s}),(0,l.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:t}),r&&(0,l.jsxs)("div",{className:"mt-2 text-xs ".concat(r.up?"text-green-600":"text-rose-600"),children:[r.up?"↑ ":"↓ ",r.text]})]})]})}function x(e){var s,t,a,r;let{totals:n}=e;return(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-5",children:[(0,l.jsx)(d,{value:String(null!==(s=null==n?void 0:n.staffCount)&&void 0!==s?s:0),label:"Total number of staff",icon:(0,l.jsx)(o,{}),trend:(null==n?void 0:n.trendStaff)?{up:!0,text:n.trendStaff}:void 0}),(0,l.jsx)(d,{value:String(null!==(t=null==n?void 0:n.applicationCount)&&void 0!==t?t:0),label:"Total application",icon:(0,l.jsx)(m,{}),trend:(null==n?void 0:n.trendApplications)?{up:!1,text:n.trendApplications}:void 0}),(0,l.jsx)(d,{value:String(null!==(a=null==n?void 0:n.projectsCount)&&void 0!==a?a:0),label:"Total projects",icon:(0,l.jsx)(h,{}),trend:(null==n?void 0:n.trendProjects)?{up:!0,text:n.trendProjects}:void 0}),(0,l.jsx)(d,{value:String(null!==(r=null==n?void 0:n.departmentsCount)&&void 0!==r?r:0),label:"Total departments",icon:(0,l.jsx)(p,{})})]})}function o(){return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",children:(0,l.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V20h6v-3.5c0-2.33-4.67-3.5-7-3.5z"})})}function m(){return(0,l.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",children:[(0,l.jsx)("path",{d:"M4 4h16v16H4z",opacity:".2"}),(0,l.jsx)("path",{d:"M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zM8 8h3v3H8V8zm0 5h3v3H8v-3zm5-5h3v3h-3V8zm0 5h3v3h-3v-3z"})]})}function h(){return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",children:(0,l.jsx)("path",{d:"M3 3h18v4H3V3zm0 6h10v12H3V9zm12 0h6v12h-6V9z"})})}function p(){return(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",children:(0,l.jsx)("path",{d:"M3 21h18v-2H3v2zM3 3v14h8V3H3zm10 6v8h8V9h-8z"})})}function u(e){let{rows:s}=e,t=!!s&&s.length>0;return(0,l.jsxs)(i.Z,{className:"p-5",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Memo"}),(0,l.jsx)("div",{className:"rounded-xl border border-gray-100 overflow-hidden",children:(0,l.jsx)("div",{className:"h-72 overflow-y-scroll thin-scroll scroll-area has-rail pr-4",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"sticky top-0 bg-white text-gray-500 shadow-[0_1px_0_#EFF2F7]",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"S/N"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Memo Title"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Sent From"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Sent To"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Status"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[!t&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-4 py-6 text-gray-400 text-center",colSpan:5,children:"No memos yet."})}),t&&s.map((e,s)=>(0,l.jsxs)("tr",{className:"text-gray-700",children:[(0,l.jsx)("td",{className:"px-4 py-4",children:e.sn}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.title}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.from}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.to}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs "+("Approved"===e.status?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"),children:e.status})})]},e.sn+"-"+s))]})]})})})]})}function j(e){let{rows:s}=e,t=!!s&&s.length>0;return(0,l.jsxs)(i.Z,{className:"p-5",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff List"}),(0,l.jsx)("div",{className:"rounded-xl border border-gray-100 overflow-hidden",children:(0,l.jsx)("div",{className:"h-72 overflow-y-scroll thin-scroll scroll-area has-rail pr-4",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"sticky top-0 bg-white text-gray-500 shadow-[0_1px_0_#EFF2F7]",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"S/N"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Photo"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Staff Name"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Staff Role"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Designation"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[!t&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-4 py-6 text-gray-400 text-center",colSpan:4,children:"No staff yet."})}),t&&s.map((e,s)=>{var t,a;return(0,l.jsxs)("tr",{className:"text-gray-700",children:[(0,l.jsx)("td",{className:"px-4 py-4",children:e.sn}),(0,l.jsx)("td",{className:"px-4 py-4",children:(0,l.jsx)("div",{className:"h-9 w-9 rounded-full overflow-hidden border border-gray-300",children:e.photoUrl?(0,l.jsx)("img",{src:e.photoUrl.startsWith("/")?"".concat(n.Y_).concat(e.photoUrl):e.photoUrl,alt:"staff",className:"h-full w-full object-cover"}):(0,l.jsx)("div",{className:"h-full w-full grid place-items-center text-[10px] text-gray-500 bg-gray-100",children:((null===(a=e.name)||void 0===a?void 0:null===(t=a.split(" "))||void 0===t?void 0:t.map(e=>e[0]).join(""))||"S").slice(0,2).toUpperCase()})})}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.name}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.role}),(0,l.jsx)("td",{className:"px-4 py-4",children:e.designation})]},e.sn+"-"+s)})]})]})})})]})}function f(e){let{rows:s}=e;return(0,l.jsxs)(i.Z,{className:"p-5",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Vouchers"}),(0,l.jsx)("div",{className:"rounded-xl border border-gray-100 overflow-hidden",children:(0,l.jsx)("div",{className:"h-72 overflow-y-scroll thin-scroll scroll-area has-rail pr-2",children:(0,l.jsxs)("table",{className:"w-full text-sm",children:[(0,l.jsx)("thead",{className:"sticky top-0 z-10 bg-white text-gray-500 shadow-[0_1px_0_#EFF2F7]",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"S/N"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Subject"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Date"}),(0,l.jsx)("th",{className:"text-left px-4 py-3 font-medium",children:"Status"})]})}),(0,l.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(!s||0===s.length)&&(0,l.jsx)("tr",{children:(0,l.jsx)("td",{className:"px-4 py-6 text-gray-400 text-center",colSpan:4,children:"No payment vouchers yet."})}),null==s?void 0:s.map(e=>(0,l.jsxs)("tr",{className:"text-gray-700",children:[(0,l.jsx)("td",{className:"px-4 py-3",children:e.sn}),(0,l.jsx)("td",{className:"px-4 py-3",children:e.subject}),(0,l.jsx)("td",{className:"px-4 py-3",children:e.date}),(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs "+("Approved"===e.status?"bg-emerald-50 text-emerald-700":"bg-amber-50 text-amber-700"),children:e.status})})]},e.sn))]})]})})})]})}function v(e){let{approved:s=0,pending:t=0,rejected:a=0}=e,r=s+t+a,n=r>0?Math.round(s/r*100):0,c=r>0?Math.round(t/r*100):0,d=r>0?"conic-gradient(#10b981 0 ".concat(n,"%, #f59e0b ").concat(n,"% ").concat(n+c,"%, #ef4444 ").concat(n+c,"% 100%)"):"conic-gradient(#e5e7eb 0 100%)";return(0,l.jsxs)(i.Z,{className:"p-5",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Applications"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-center",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[r," Total applications",0===r?" — no data yet":""]}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("li",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"h-3 w-3 rounded-full bg-amber-500"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-medium",children:t})," Pending"]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"h-3 w-3 rounded-full bg-emerald-500"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-medium",children:s})," Approved"]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-3",children:[(0,l.jsx)("span",{className:"h-3 w-3 rounded-full bg-rose-500"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"font-medium",children:a})," Rejected"]})]})]})]}),(0,l.jsx)("div",{className:"flex items-center justify-center",children:(0,l.jsxs)("div",{className:"relative h-40 w-40",children:[(0,l.jsx)("div",{className:"absolute inset-0 rounded-full",style:{backgroundImage:d}}),(0,l.jsx)("div",{className:"absolute inset-4 rounded-full bg-white grid place-items-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Approved"}),(0,l.jsxs)("div",{className:"text-xl font-semibold text-gray-900",children:[n,"%"]})]})})]})})]})]})}function N(){let[e,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)(null);return((0,a.useEffect)(()=>{s(!0)},[]),(0,a.useEffect)(()=>{if(!e)return;c.refresh().catch(()=>void 0);let s=c.subscribe(e=>{e.data&&r(e.data)});return()=>s()},[e]),e)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x,{totals:t?{staffCount:t.stats.staffCount,applicationCount:t.stats.applicationCount,projectsCount:t.stats.projectsCount,departmentsCount:t.stats.departmentsCount,trendStaff:t.stats.trendStaff,trendApplications:t.stats.trendApplications,trendProjects:t.stats.trendProjects}:void 0}),(0,l.jsxs)("div",{className:"grid grid-cols-1 2xl:grid-cols-2 gap-6 mt-6",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(u,{rows:null==t?void 0:t.memos}),(0,l.jsx)(f,{rows:null==t?void 0:t.payments})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(j,{rows:null==t?void 0:t.staff}),(0,l.jsx)(v,{})]})]})]}):(0,l.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,l.jsx)("div",{className:"text-gray-500",children:"Loading..."})})}}},function(e){e.O(0,[9044,1906,3881,3869,8753,1744],function(){return e(e.s=20)}),_N_E=e.O()}]);