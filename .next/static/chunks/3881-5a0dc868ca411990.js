"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3881],{542:function(e,t,r){r.d(t,{Z:function(){return l}});var a=r(1514),s=r(3053);function l(e){let{className:t="",children:r}=e;return(0,a.jsx)("div",{className:(0,s.W)("bg-white rounded-2xl shadow-[0_1px_0_#EFF2F7] border border-gray-100",t),children:r})}},6615:function(e,t,r){r.d(t,{default:function(){return c}});var a=r(1514),s=r(7993),l=r(3939),i=r(7107),o=r(3670);function c(e){let{title:t,subtitle:r,icon:i}=e,c=new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),[m,x]=(0,s.useState)(!1),v=(0,s.useRef)(null);async function b(){x(!1),(0,o.kS)().subscribe(e=>{e.data&&window.location.replace("/auth/login")})}return(0,l.useRouter)(),(0,s.useEffect)(()=>{function e(e){v.current&&!v.current.contains(e.target)&&x(!1)}return m&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[m]),(0,a.jsxs)("header",{className:"flex items-center justify-between relative",children:[(0,a.jsx)("div",{children:t?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-600",children:[null!=i?i:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-semibold",children:t})]}),r&&(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:r})]}):(0,a.jsx)(u,{dateStr:c})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"relative h-9 w-9 rounded-full flex items-center justify-center bg-white border border-gray-200 text-gray-600 hover:bg-gray-50","aria-label":"Notifications",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M12 22a2 2 0 002-2H10a2 2 0 002 2zM18 16v-5a6 6 0 10-12 0v5l-2 2v1h16v-1l-2-2z"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",ref:v,children:[(0,a.jsx)(d,{}),(0,a.jsx)("button",{onClick:()=>x(e=>!e),className:"h-8 w-8 grid place-items-center rounded-md hover:bg-gray-100","aria-label":"Open user menu",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 text-gray-400",fill:"currentColor",children:(0,a.jsx)("path",{d:"M7 10l5 5 5-5z"})})}),m&&(0,a.jsx)("div",{className:"absolute right-0 top-14 w-48 bg-white rounded-xl shadow-lg border border-gray-100 p-2",children:(0,a.jsx)(h,{icon:f,label:"Logout",onClick:b})})]})]})]})}function u(e){let{dateStr:t}=e,[r,l]=(0,s.useState)("User");return(0,s.useEffect)(()=>{i.U.getSession().then(e=>{var t,r;l((null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(t=r.user)||void 0===t?void 0:t.name)||"User")}).catch(()=>{})},[]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-[22px] sm:text-2xl font-semibold text-gray-900",children:["Welcome, ",r," ",(0,a.jsx)("span",{className:"align-middle",children:"\uD83D\uDC4B"})]}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500",children:["Today is ",t]})]})}function d(){let[e,t]=(0,s.useState)("User"),r=(0,o.uv)(e);return(0,s.useEffect)(()=>{i.U.getSession().then(e=>{var r,a;t((null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(r=a.user)||void 0===r?void 0:r.name)||"User")}).catch(()=>{})},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 text-white grid place-items-center text-sm font-semibold",children:r}),(0,a.jsxs)("div",{className:"hidden sm:block leading-tight",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"HR Office"})]})]})}function h(e){let{icon:t,label:r,onClick:s}=e;return(0,a.jsxs)("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg hover:bg-gray-50 text-gray-800",children:[(0,a.jsx)(t,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:r})]})}function f(e){let{className:t=""}=e;return(0,a.jsx)("svg",{viewBox:"0 0 24 24",className:t,fill:"currentColor",children:(0,a.jsx)("path",{d:"M10 17l1.41-1.41L8.83 13H20v-2H8.83l2.58-2.59L10 7l-5 5 5 5zM4 5h6V3H4a2 2 0 00-2 2v14a2 2 0 002 2h6v-2H4V5z"})})}},2610:function(e,t,r){r.d(t,{default:function(){return o}});var a=r(1514),s=r(9170),l=r(3939);let i=[{href:"/",label:"Dashboard",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})})})}},{href:"/staff",label:"Staff",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3zM8 11c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V20h14v-3.5C15 14.17 10.33 13 8 13zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V20h6v-3.5c0-2.33-4.67-3.5-7-3.5z"})})})}},{href:"/payment-voucher",label:"Payment Voucher",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:[(0,a.jsx)("path",{d:"M4 6h16v12H4z",opacity:".2"}),(0,a.jsx)("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 14H4V6h16v12z"})]})})}},{href:"/payroll",label:"Payroll",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 20c-3.87-1.11-7-5.21-7-9.71V6.3l7-3.11 7 3.11v5C19 15.79 15.87 19.89 12 21z"})})})}},{href:"/memos",label:"Memo",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M5 3h14a2 2 0 012 2v11l-4 4H5a2 2 0 01-2-2V5a2 2 0 012-2zm11 16l3-3h-3v3z"})})})}},{href:"/circulars",label:"Circulars",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm1 5v6l5 3-.75 1.23L12 14V7h1z"})})})}},{href:"/maintenance",label:"Maintenance",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M22.7 19.3l-6.4-6.4a7 7 0 11-3.6-3.6l6.4 6.4 3.6 3.6zM7 10a3 3 0 100-6 3 3 0 000 6z"})})})}},{href:"/logistics",label:"Logistics",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M3 13h11V6H3v7zm13-5h3l3 3v4h-2a2 2 0 01-4 0H8a2 2 0 11-4 0H3v-2h13V8z"})})})}},{href:"/office-budget",label:"Office Budget",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M3 5h18v4H3V5zm0 6h18v8H3v-8zm5 2v4h2v-4H8z"})})})}},{href:"/stocks-inventory",label:"Stocks and Inventory",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M20 6H4l-2 4v10a2 2 0 002 2h16a2 2 0 002-2V10l-2-4zM4 20V10h16v10H4z"})})})}},{href:"/notifications",label:"Notifications",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M12 22a2 2 0 002-2H10a2 2 0 002 2zM18 16v-5a6 6 0 10-12 0v5l-2 2v1h16v-1l-2-2z"})})})}},{href:"/capacity-building",label:"Capacity Building",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M12 2l9 4v6c0 5-3.6 9.3-9 10-5.4-.7-9-5-9-10V6l9-4z"})})})}},{href:"/procurement",label:"Procurements",icon:function(e){let{className:t=""}=e;return(0,a.jsx)(c,{className:t,children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,a.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14h9.68l1.74-8H6L5.27 2H2v2h2l3.6 7.59L5.25 17h13.5v-2H7.16z"})})})}}];function o(){let e=(0,l.usePathname)();return(0,a.jsxs)("aside",{className:"w-[260px] h-screen bg-white border-r border-gray-100 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"h-16 flex items-center px-6",children:(0,a.jsx)("div",{className:"text-lg font-semibold",children:"ERP System"})}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto thin-scroll py-4",children:i.map(t=>{let{href:r,label:l,icon:i}=t,o="/"===r?"/"===e:e===r||e.startsWith(r+"/");return(0,a.jsxs)(s.default,{href:r,className:"flex items-center gap-3 px-6 py-3 text-sm ".concat(o?"text-blue-600 bg-blue-50 relative":"text-gray-700 hover:bg-gray-50"),children:[o&&(0,a.jsx)("span",{className:"absolute left-0 top-0 h-full w-1 bg-blue-600 rounded-r"}),(0,a.jsx)(i,{className:o?"text-blue-600":"text-gray-400"}),(0,a.jsx)("span",{children:l})]},l)})}),(0,a.jsx)("div",{className:"h-12"})]})}function c(e){let{className:t,children:r}=e;return(0,a.jsx)("span",{className:"inline-flex items-center justify-center h-5 w-5 ".concat(t),"aria-hidden":!0,children:r})}},3670:function(e,t,r){r.d(t,{ar:function(){return u},kS:function(){return h},uv:function(){return f},z2:function(){return d}});var a=r(8775),s=r(6782),l=r(8861),i=r(7107),o=r(8328);function c(){if("undefined"!=typeof document)try{let e=document.cookie.split(";"),t="Thu, 01 Jan 1970 00:00:00 GMT",r=window.location.hostname;for(let a of[...e.map(e=>{let t=e.indexOf("=");return(t>-1?e.substr(0,t):e).trim()}),"better-auth.session_token","better-auth.csrf_token","better-auth.dontRememberToken","better-auth.pkce_code_verifier"])a&&(document.cookie="".concat(a,"=; expires=").concat(t,"; path=/"),document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; SameSite=Lax"),document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; SameSite=Strict"),document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; SameSite=None; Secure"),r&&(document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; domain=").concat(r),document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; domain=").concat(r,"; SameSite=Lax"),r.startsWith(".")||(document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; domain=.").concat(r),document.cookie="".concat(a,"=; expires=").concat(t,"; path=/; domain=.").concat(r,"; SameSite=Lax"))))}catch(e){}}let u=(0,a.vg)(async()=>{let e=localStorage.getItem("token");if(!e)return null;try{return(await (0,l.hi)("/auth/me",{headers:{Authorization:"Bearer ".concat(e)}})).user}catch(e){return null}});function d(e,t,r){let a=(0,s.p4)(i.U.signUp.email({email:e,password:r,name:t}).then(()=>!0));return a.subscribe(e=>{e.data&&u.refresh()}),a}function h(){return(0,s.p4)((async()=>{(0,o.av)(null);try{await i.U.signOut()}catch(e){}try{if(c(),localStorage.clear(),sessionStorage.clear(),window.indexedDB)try{(await window.indexedDB.databases()).forEach(e=>{e.name&&window.indexedDB.deleteDatabase(e.name)})}catch(e){}}catch(e){}try{await (0,l.hi)("/auth/logout",{method:"POST"})}catch(e){}try{await u.refresh()}catch(e){}return c(),!0})())}function f(e){var t,r,a,s;if(!e)return"U";let l=e.trim().split(/\s+/);return((null!==(a=null===(t=l[0])||void 0===t?void 0:t[0])&&void 0!==a?a:"")+(null!==(s=null===(r=l[1])||void 0===r?void 0:r[0])&&void 0!==s?s:"")).toUpperCase()||"U"}},8328:function(e,t,r){r.d(t,{av:function(){return s}});let a=function(e,t){let r=t.storage??function(){let e="u">typeof globalThis?globalThis:void 0;if(e&&e.localStorage)return e.localStorage;let t=new Map;return{getItem:e=>t.has(e)?t.get(e):null,setItem:(e,r)=>void t.set(e,r),removeItem:e=>void t.delete(e)}}(),{key:a}=t;try{let t=r.getItem(a);if(null!=t){let r=JSON.parse(t);Object.is(e.value,r)||e.set(r)}}catch{}return e.subscribe(e=>{try{r.setItem(a,JSON.stringify(e))}catch{}}),e}((0,r(8775).SB)({user:null,theme:"light",loading:!1}),{key:"app-store"});function s(e){let t=a.value;a.set({...t,user:e})}},8861:function(e,t,r){r.d(t,{BG:function(){return i},Y_:function(){return s},hi:function(){return l}});let a="https://your-backend-url.vercel.app/api",s=a.replace(/\/?api\/?$/,"");async function l(e,t){let r=localStorage.getItem("token"),s={"Content-Type":"application/json",...(null==t?void 0:t.headers)||{},...r?{Authorization:"Bearer ".concat(r)}:{}},l=await fetch("".concat(a).concat(e),{headers:s,credentials:"include",...t});if(!l.ok)throw Error(await l.text()||"Request failed: ".concat(l.status));return l.json()}async function i(e,t){let r=localStorage.getItem("token"),s={...r?{Authorization:"Bearer ".concat(r)}:{}},l=await fetch("".concat(a).concat(e),{method:"POST",headers:s,body:t,credentials:"include"});if(!l.ok)throw Error(await l.text()||"Request failed: ".concat(l.status));return l.json()}},7107:function(e,t,r){r.d(t,{U:function(){return s}});let a=(0,r(1906).XL)({baseURL:"http://localhost:4000"}),s={...a,useSession:()=>a.useSession()}},9170:function(e,t,r){r.d(t,{default:function(){return s.a}});var a=r(7832),s=r.n(a)},3939:function(e,t,r){var a=r(2061);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6782:function(e,t,r){r.d(t,{p4:function(){return s}});var a=r(3142);function s(e){let t;return(0,a.r)(async()=>(void 0!==t||(t=await e),t))}},7073:function(e,t,r){r.d(t,{I:function(){return s}});let a=new Set;function s(e){try{for(let t of a)t(e);let t=globalThis.__BETTER_STATE_DEVTOOLS__;t&&"function"==typeof t.emit&&t.emit(e)}catch{}}},8775:function(e,t,r){r.d(t,{vg:function(){return c.r},SB:function(){return o}});var a=r(5387),s=r(115),l=r(7073);let i=[];function o(e,t=Object.is){let r={_value:e,initial:e,subscribers:new Set,dependents:new Set,eq:t},o={get value(){let e=i[i.length-1];return e&&(e.dependencies.add(r),r.dependents.add(e)),r._value},set value(n){if(r.eq(r._value,n))return;r._value=n;let e=Array.from(r.dependents),t=new Set;for(;e.length;){let r=e.pop();if(!t.has(r)){for(let a of(t.add(r),r.dirty=!0,r.dependents))e.push(a);r.subscribers.size>0&&(0,a.s)(r,()=>{let e=r.__recompute;e&&e()},"recompute")}}if(r.subscribers.size>0){let e=r._value;(0,a.s)(r,()=>{for(let t of Array.from(r.subscribers))t(e)},"notify")}(0,a.s)(r,()=>{(0,l.I)({type:"update",atomKind:"state",subscribers:r.subscribers.size,payload:r._value})},"devtools")},set(e){this.value=e},subscribe:e=>(r.subscribers.add(e),()=>{r.subscribers.delete(e)})};return(0,s.a)(o,"state",r),o}var c=r(3142)},115:function(e,t,r){r.d(t,{a:function(){return s}});let a=Symbol.for("better-state.internal");function s(e,t,r){try{Object.defineProperty(e,a,{value:{type:t,node:r},enumerable:!1,configurable:!1,writable:!1}),l.set(r,e)}catch{}}let l=new WeakMap},3142:function(e,t,r){r.d(t,{r:function(){return i}});var a=r(5387),s=r(115),l=r(7073);function i(e){let t={fetcher:e,data:null,loading:!0,error:null,subscribers:new Set,currentPromiseId:0},r={data:t.data,loading:t.loading,error:t.error};function i(){r={data:t.data,loading:t.loading,error:t.error}}async function o(){t.currentPromiseId++;let e=t.currentPromiseId;t.loading=!0,t.error=null,i(),function(){if(t.subscribers.size>0){let e=r;(0,a.s)(t,()=>{for(let r of Array.from(t.subscribers))r(e)})}}();try{let s=await t.fetcher();if(e!==t.currentPromiseId)return;if(t.data=s,t.error=null,t.loading=!1,i(),t.subscribers.size>0){let e=Array.from(t.subscribers),a=r;for(let t of e)t(a)}(0,a.s)(t,()=>{(0,l.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")}catch(s){if(e!==t.currentPromiseId)return;if(t.error=s instanceof Error?s:Error(String(s)),t.loading=!1,i(),t.subscribers.size>0){let e=Array.from(t.subscribers),a=r;for(let t of e)t(a)}(0,a.s)(t,()=>{(0,l.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")}}o();let c={get data(){return t.data},get loading(){return t.loading},get error(){return t.error},refresh:o,subscribe:e=>(t.subscribers.add(e),e(r),()=>{t.subscribers.delete(e)})};return c.getSnapshot=()=>r,c.__hydrate=e=>{if(t.data=e.data??null,t.error=e.error??null,t.loading=!!e.loading,i(),t.subscribers.size>0){let e=Array.from(t.subscribers),a=r;for(let t of e)t(a)}(0,a.s)(t,()=>{(0,l.I)({type:"update",atomKind:"resource",subscribers:t.subscribers.size,payload:r})},"devtools")},(0,s.a)(c,"resource",t),c}},5387:function(e,t,r){r.d(t,{s:function(){return i}});let a=new Map,s=!1;function l(){let e=Array.from(a.entries());for(let[,t]of(a.clear(),s=!1,e))for(let e of t.values())e()}function i(e,t,r="default"){if("function"!=typeof t)return;let i=a.get(e);i||(i=new Map,a.set(e,i)),i.set(r,t),s||(s=!0,queueMicrotask(l))}}}]);