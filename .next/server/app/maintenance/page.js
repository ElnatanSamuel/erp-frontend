(()=>{var e={};e.id=5368,e.ids=[5368],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4836:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),a(8480),a(226),a(4872);var r=a(1218),n=a(8345),s=a(4380),l=a.n(s),i=a(306),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["maintenance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8480)),"C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\maintenance\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,226)),"C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,4872,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\maintenance\\page.tsx"],u="/maintenance/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/maintenance/page",pathname:"/maintenance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5557:(e,t,a)=>{Promise.resolve().then(a.bind(a,2101))},2101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(4470),n=a(9140),s=a(4428),l=a(3209),i=a(2443),o=a(1664);function d(){let e=new Date,[t,a]=(0,o.useState)(e.getMonth()),[d,x]=(0,o.useState)(e.getFullYear()),[m,g]=(0,o.useState)(()=>new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString()),[p,h]=(0,o.useState)(null),[b,f]=(0,o.useState)([]),[v,j]=(0,o.useState)(!0),[w,y]=(0,o.useState)(null),N=(0,o.useMemo)(()=>(function(e,t){let a=new Date(e,t,1).getDay(),r=new Date(e,t+1,0).getDate(),n=new Date(e,t,0).getDate(),s=[];for(let r=a-1;r>=0;r--)s.push({date:new Date(e,t-1,n-r),inMonth:!1});for(let a=1;a<=r;a++)s.push({date:new Date(e,t,a),inMonth:!0});for(;s.length%7!=0;)s.push({date:new Date(e,t+1,s.length%7),inMonth:!1});return s})(d,t),[d,t]),P=(0,o.useMemo)(()=>(function(e){let t={};for(let a of e){let e=c(new Date(a.date));(t[e]=t[e]||[]).push(a)}return t})(b),[b]);(0,o.useMemo)(()=>(function(e){let t={},a={overdue:3,pending:2,completed:1,scheduled:0};for(let r of e){let e=c(new Date(r.date)),n=(r.status||"").toLowerCase(),s="scheduled";n.includes("overdue")?s="overdue":n.includes("pending")?s="pending":n.includes("completed")&&(s="completed");let l=t[e];(void 0===l||a[s]>a[l])&&(t[e]=s)}return t})(b),[b]);let E=P[c(new Date(m))]||[],S=new Date,D=S.getFullYear()===d&&S.getMonth()===t?c(S):"",C=new Date(d,t,1).toLocaleDateString(void 0,{month:"long",year:"numeric"});return(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[r.jsx(n.default,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:r.jsx(s.Z,{title:"Maintenance",subtitle:"View and create schedule for maintenance."})}),(0,r.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[r.jsx(u,{color:"blue",value:p?p.scheduled:"—",label:"Scheduled maintenance",sub:"2 more than last quarter",iconPath:"M3 3h18v6H3zM3 11h18v10H3z"}),r.jsx(u,{color:"green",value:p?p.completed:"—",label:"Completed maintenance",sub:"2 more than last quarter",iconPath:"M9 16.2l-3.5-3.5-1.4 1.4L9 19 20 8l-1.4-1.4z"}),r.jsx(u,{color:"amber",value:p?p.pending:"—",label:"Pending maintenance",sub:"2 more than last quarter",iconPath:"M12 2a10 10 0 100 20 10 10 0 000-20z"}),r.jsx(u,{color:"rose",value:p?p.overdue:"—",label:"Overdue maintenance",sub:"2 more than last quarter",iconPath:"M12 2L3 7v10l9 5 9-5V7z"})]}),(0,r.jsxs)(l.Z,{className:"p-6 lg:p-7 flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Schedule a Maintenance"}),r.jsx(i.default,{href:"/maintenance/create",className:"inline-flex items-center justify-center h-10 px-5 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Schedule Maintenance"})]}),r.jsx(l.Z,{className:"p-6 lg:p-7",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("button",{onClick:()=>(function({month:e,year:t,setMonth:a,setYear:r}){0===e?(a(11),r(t-1)):a(e-1)})({month:t,year:d,setMonth:a,setYear:x}),className:"h-9 w-9 grid place-items-center rounded-lg hover:bg-gray-100",children:"‹"}),r.jsx("div",{className:"text-gray-900 font-medium",children:C}),r.jsx("button",{onClick:()=>(function({month:e,year:t,setMonth:a,setYear:r}){11===e?(a(0),r(t+1)):a(e+1)})({month:t,year:d,setMonth:a,setYear:x}),className:"h-9 w-9 grid place-items-center rounded-lg hover:bg-gray-100",children:"›"})]}),(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-100 p-4 bg-[#EEF5FF] shadow-sm",children:[r.jsx("div",{className:"grid grid-cols-7 text-center text-xs text-gray-500 mb-2",children:["S","M","T","W","T","F","S"].map(e=>r.jsx("div",{className:"py-1",children:e},e))}),r.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:N.map((e,t)=>{let a=c(e.date),n=e.inMonth,s=(P[a]?.length||0)>0;return r.jsx("button",{onClick:()=>g(e.date.toISOString()),className:"relative h-10 w-10 mx-auto grid place-items-center rounded-full text-sm transition "+(a===D&&n?"text-white shadow-sm bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9]":s?"text-blue-700 bg-transparent border border-[#3B82F6]":n?"text-gray-700 hover:bg-white/60":"text-gray-300"),children:r.jsx("span",{children:e.date.getDate()})},t)})})]})]}),(0,r.jsxs)("div",{className:"border-l border-gray-100 pl-6",children:[r.jsx("div",{className:"text-sm text-gray-500",children:function(e){let t=String(e.getDate()).padStart(2,"0"),a=e.toLocaleDateString(void 0,{month:"long"}),r=e.getFullYear();return`${t} ${a}, ${r}`}(new Date(m))}),r.jsx("div",{className:"mt-3 space-y-5",children:v?r.jsx("div",{className:"text-sm text-gray-500",children:"Loading…"}):0===E.length?r.jsx("div",{className:"text-sm text-gray-500",children:"No schedules for selected date"}):E.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-700",children:[(0,r.jsxs)("span",{className:"font-semibold mr-1",children:[t+1,"."]})," ",e.title]}),r.jsx(i.default,{href:`/maintenance/${e.id}`,className:"inline-flex items-center justify-center h-9 px-4 rounded-lg text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm w-fit",children:"View"})]},e.id))})]})]})}),r.jsx("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"})]})]})]})}function c(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}function u({color:e,value:t,label:a,sub:n,iconPath:s}){let i={blue:"text-blue-600 bg-blue-50",green:"text-emerald-600 bg-emerald-50",purple:"text-purple-600 bg-purple-50",rose:"text-rose-600 bg-rose-50",amber:"text-amber-600 bg-amber-50"};return(0,r.jsxs)(l.Z,{className:"p-5 flex items-center gap-4",children:[r.jsx("div",{className:`h-10 w-10 rounded-xl grid place-items-center ${i[e]}`,children:r.jsx("svg",{viewBox:"0 0 24 24",className:`h-6 w-6 ${i[e].split(" ")[0]}`,fill:"currentColor",children:r.jsx("path",{d:s})})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:t}),r.jsx("div",{className:"text-sm text-gray-500",children:a}),r.jsx("div",{className:"text-xs text-emerald-600 mt-1",children:n})]})]})}a(3522)},4428:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r.default});var r=a(9710)},8480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>s,default:()=>i});var r=a(4259);let n=(0,r.createProxy)(String.raw`C:\PROJECTS\OCTOBER\ERP\apps\frontend\src\app\maintenance\page.tsx`),{__esModule:s,$$typeof:l}=n;n.default;let i=(0,r.createProxy)(String.raw`C:\PROJECTS\OCTOBER\ERP\apps\frontend\src\app\maintenance\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4966,3203,1410],()=>a(4836));module.exports=r})();