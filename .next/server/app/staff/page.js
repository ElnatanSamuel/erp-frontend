(()=>{var e={};e.id=2533,e.ids=[2533],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o}),s(2007),s(226),s(4872);var r=s(1218),a=s(8345),l=s(4380),n=s.n(l),i=s(306),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["staff",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2007)),"C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\staff\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,226)),"C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,4872,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\PROJECTS\\OCTOBER\\ERP\\apps\\frontend\\src\\app\\staff\\page.tsx"],x="/staff/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/staff/page",pathname:"/staff",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9858:(e,t,s)=>{Promise.resolve().then(s.bind(s,1701))},1701:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,dynamic:()=>m});var r=s(4470),a=s(1664),l=s(9140),n=s(4428),i=s(2443),d=s(3209),o=s(8948),c=s(3855),x=s(3522);function p({rows:e,total:t,page:s,limit:a,onPrev:l,onNext:n}){return(0,r.jsxs)(d.Z,{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Staff"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsx("span",{children:"Showing"}),r.jsx("span",{className:"inline-flex items-center justify-center h-8 px-2 rounded-lg border border-gray-200 bg-white text-gray-700",children:a}),r.jsx("span",{children:"per page"})]})]}),r.jsx("div",{className:"rounded-xl border border-gray-100 overflow-hidden",children:r.jsx("div",{className:"h-[420px] overflow-y-scroll thin-scroll scroll-area has-rail pr-4",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"sticky top-0 bg-white text-gray-500 shadow-[0_1px_0_#EFF2F7]",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"S/N"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Photo"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"First Name"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Last Name"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Gender"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Staff ID"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Phone Number"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Role"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Designation"}),r.jsx("th",{className:"text-left px-4 py-3 font-medium",children:"Action"})]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[0===e.length&&r.jsx("tr",{children:r.jsx("td",{className:"px-4 py-6 text-gray-400 text-center",colSpan:10,children:"No staff found."})}),e.map((e,t)=>(0,r.jsxs)("tr",{className:"text-gray-700",children:[r.jsx("td",{className:"px-4 py-4",children:e.sn}),r.jsx("td",{className:"px-4 py-4",children:e.photoUrl?r.jsx("img",{src:e.photoUrl.startsWith("http")?e.photoUrl:`${x.Y_}${e.photoUrl.startsWith("/")?"":"/"}${e.photoUrl}`,alt:"staff",className:"h-9 w-9 rounded-full object-cover"}):(0,r.jsxs)("div",{className:"h-9 w-9 rounded-full bg-gray-100 grid place-items-center text-xs text-gray-500",children:[e.first?.[0],e.last?.[0]]})}),r.jsx("td",{className:"px-4 py-4",children:e.first}),r.jsx("td",{className:"px-4 py-4",children:e.last}),r.jsx("td",{className:"px-4 py-4",children:e.gender}),r.jsx("td",{className:"px-4 py-4",children:e.staffId}),r.jsx("td",{className:"px-4 py-4",children:e.phone}),r.jsx("td",{className:"px-4 py-4",children:e.role}),r.jsx("td",{className:"px-4 py-4",children:e.designation}),r.jsx("td",{className:"px-4 py-4 text-blue-600",children:r.jsx(i.default,{href:`/staff/${encodeURIComponent(e.id)}`,className:"hover:underline",children:"View more"})})]},e.sn+"-"+t))]})]})})}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2 justify-end",children:[r.jsx("button",{onClick:l,className:"h-9 px-3 rounded-lg border bg-white border-gray-200 text-sm disabled:opacity-50",disabled:s<=1,children:"Prev"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",s]}),r.jsx("button",{onClick:n,className:"h-9 px-3 rounded-lg border bg-white border-gray-200 text-sm",children:"Next"})]})]})}function h(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[n,h]=(0,a.useState)("All"),[m,f]=(0,a.useState)(1),[u,g]=(0,a.useState)(12),j=(0,a.useMemo)(()=>(function(e,t,s,r){let a=new URLSearchParams;return e&&a.set("q",e),a.set("page",String(t)),a.set("limit",String(s)),r&&"All"!==r&&a.set("role",r),(0,c.p4)((0,x.hi)(`/users?${a.toString()}`))})(`${s}`,m,u,n),[s,m,u,n]),y=(0,o.W)(j).data,N=y?.total??0,b=(y?.items??[]).map((e,t)=>({id:e.id,sn:String((m-1)*u+t+1).padStart(2,"0"),first:e.firstName||(e.name||"").split(" ")[0]||"",last:e.lastName||(e.name||"").split(" ").slice(1).join(" ")||"",gender:e.gender||"-",staffId:e.staffId||"-",phone:e.phone||"-",role:e.role||"-",designation:e.designation||"-",photoUrl:e.photoUrl||void 0})),v=Math.max(1,Math.ceil(N/u));return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{className:"p-6 md:p-7",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[(0,r.jsxs)("div",{className:"lg:col-span-5",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Quick search a staff"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Enter search word",value:e,onChange:e=>{t(e.target.value),f(1)},className:"w-full h-12 rounded-xl border border-gray-200 bg-white px-4 pr-12 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-600"}),r.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 h-9 w-9 grid place-items-center rounded-full border border-gray-200 bg-white text-gray-500",children:r.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:r.jsx("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"text-3xl font-semibold text-gray-900 leading-none",children:N}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total number of staff"})]}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[r.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Filter staff"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:n,onChange:e=>{h(e.target.value),f(1)},className:"w-full h-12 appearance-none rounded-xl border border-[#E8EEF7] bg-gradient-to-b from-white to-[#F5F8FF] shadow-[inset_0_1px_0_rgba(255,255,255,0.8)] px-4 pr-10 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-600",children:[r.jsx("option",{children:"All"}),r.jsx("option",{children:"Admin"}),r.jsx("option",{children:"HR"}),r.jsx("option",{children:"IT"})]}),r.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M7 10l5 5 5-5z"})})]})]}),r.jsx("div",{className:"lg:col-span-2 flex lg:justify-end",children:r.jsx(i.default,{href:"/staff/new",className:"inline-flex items-center justify-center w-full lg:w-auto h-12 px-5 rounded-xl text-white bg-gradient-to-r from-[#1D75FF] via-[#5B6EF5] to-[#1B57E9] hover:brightness-105 shadow-sm",children:"Add New Staff"})})]})}),r.jsx(p,{rows:b,total:N,page:m,limit:u,onPrev:()=>f(e=>Math.max(1,e-1)),onNext:()=>f(e=>Math.min(v,e+1))})]})}let m="force-dynamic";function f(){return(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[r.jsx(l.default,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"px-6 lg:px-10 pt-6 pb-4 bg-white/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 border-b border-gray-100",children:r.jsx(n.Z,{title:"All Staff",subtitle:"View, search for and add new staff"})}),(0,r.jsxs)("div",{className:"px-6 lg:px-10 py-6 space-y-6 overflow-y-auto",children:[r.jsx(h,{}),r.jsx("footer",{className:"text-center text-xs text-gray-400 pt-2 pb-6",children:"Copyright \xa9 2025 Relia Energy. All Rights Reserved"})]})]})]})}function u(){return r.jsx(a.Suspense,{fallback:(0,r.jsxs)("div",{className:"h-screen overflow-hidden bg-[#F6F8FB] flex",children:[r.jsx(l.default,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"text-gray-500",children:"Loading..."})})]}),children:r.jsx(f,{})})}},4428:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r.default});var r=s(9710)},2007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>d,dynamic:()=>i});var r=s(4259);let a=(0,r.createProxy)(String.raw`C:\PROJECTS\OCTOBER\ERP\apps\frontend\src\app\staff\page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\PROJECTS\OCTOBER\ERP\apps\frontend\src\app\staff\page.tsx#dynamic`),d=(0,r.createProxy)(String.raw`C:\PROJECTS\OCTOBER\ERP\apps\frontend\src\app\staff\page.tsx#default`)},8948:(e,t,s)=>{"use strict";s.d(t,{W:()=>a});var r=s(1664);function a(e){return{...(0,r.useSyncExternalStore)(t=>e.subscribe(()=>t()),()=>{let t=e.getSnapshot;return t?t():{data:e.data,loading:e.loading,error:e.error}}),refresh:e.refresh}}}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4966,3203,1410],()=>s(876));module.exports=r})();